{"version":3,"sources":["components/card.js","context/alert/alert-context.js","context/github/github-context.js","components/search.js","pages/home.js","pages/about.js","components/navbar.js","components/repos.js","pages/profile.js","components/alert.js","context/types.js","context/alert/alert-reducer.js","context/alert/alert-state.js","context/github/github-reducer.js","context/github/github-state.js","components/app.js","index.js"],"names":["Card","user","className","src","avatar_url","alt","login","to","AlertContext","createContext","GitHubContext","Search","useContext","hide","show","useState","value","setValue","github","type","placeholder","onKeyPress","event","key","search","clearUsers","onChange","target","trim","Home","loading","users","map","id","About","Navbar","Repos","repos","repo","href","html_url","rel","name","Profile","match","getUser","getRepos","userName","params","bio","followers","following","location","public_repos","public_gists","blog","company","useEffect","Alert","alert","role","text","aria-label","aria-hidden","onClick","SHOW_ALERT","HIDE_ALERT","CLEAR_USERS","GET_REPOS","GET_USER","SEARCH_USERS","SET_LOADING","handlers","state","action","payload","AlertReducer","DEFAULT","AlertState","children","useReducer","dispatch","Provider","hendlers","GitHubReducer","withEnv","url","process","GitHubState","a","setLoading","fetch","then","res","json","items","data","App","path","component","exact","root","document","querySelector","ReactDom","render"],"mappings":"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","file":"static/js/main.ae7ee108.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const Card = ({ user }) => (\r\n  <div className={'card mt-4'}>\r\n    <img src={user.avatar_url} alt={user.login} className={'card-img-top'} />\r\n    <div className={'card-body'}>\r\n      <h5 className={'card-title'}>\r\n        {user.login}\r\n      </h5>\r\n      <Link to={`/profile/${user.login}`} className={'btn btn-info'}>\r\n        Open\r\n      </Link>\r\n    </div>\r\n  </div>\r\n)","import { createContext } from 'react';\r\n\r\nexport const AlertContext = createContext();\r\n","import { createContext } from 'react';\r\n\r\nexport const GitHubContext = createContext();","import React, { useContext, useState } from 'react';\r\nimport { AlertContext } from '../context/alert/alert-context';\r\nimport { GitHubContext } from '../context/github/github-context';\r\n\r\nexport const Search = () => {\r\n  const { hide, show } = useContext(AlertContext);\r\n  const [value, setValue] = useState('');\r\n  const github = useContext(GitHubContext);\r\n\r\n  const onSubmit = (event) => {\r\n    if(event.key !== 'Enter') {\r\n      return\r\n    }\r\n\r\n    if(value) {\r\n      hide();\r\n      github.search(value);\r\n    } else {\r\n      github.clearUsers();\r\n      show('Type the username in github!');\r\n    }\r\n  }\r\n\r\n  return(\r\n    <>\r\n      <input\r\n        type=\"text\"\r\n        className={'form-control mt-4 w-25'}\r\n        placeholder={'type name...'}\r\n        onKeyPress={ onSubmit }\r\n        value={ value }\r\n        onChange={ event => setValue(event.target.value.trim()) }\r\n      />\r\n    </>\r\n  )\r\n}","import React, { useContext } from 'react';\r\nimport { Card } from '../components/card';\r\nimport { Search } from '../components/search';\r\nimport { GitHubContext } from '../context/github/github-context';\r\n\r\nexport const Home = () => {\r\n  const { loading, users } = useContext(GitHubContext);\r\n\r\n  return (\r\n    <>\r\n      <Search />\r\n      <div className={'row'}>\r\n        { loading \r\n          ? <p className={'mt-4'}>Loading ...</p>\r\n          : users.map(user => {\r\n              return (\r\n                <div className={'col-md-4 mb-4'} key={ user.id }> \r\n                  <Card user={ user }/>\r\n                </div>\r\n              )\r\n            }) \r\n        }\r\n      </div>\r\n    </>\r\n  );\r\n}      ","import React from 'react';\r\n\r\nexport const About = () => {\r\n  return(\r\n    <>\r\n      <div className=\"jumbotron jumbotron-fluid mt-4\">\r\n        <div className=\"container\">\r\n          <h1 className=\"display-4\">Информация</h1>\r\n          <p className=\"lead\">\r\n            Добро Пожаловать на сайт где можете наблюдать профили github пользователей.\r\n            <small className={'d-block mt-2'}>\r\n              Для поиска перейдите на страницу \"Home\" и наберите в поисковике имя \r\n              пользователя.\r\n            </small>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}","import React from 'react';\r\nimport './index.sass';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const Navbar = () => {\r\n  return (\r\n    <nav className={'navbar navbar-dark bg-primary navbar-expand-lg'}>\r\n      <div className={'navbar-brand'}>\r\n        GitHub Search\r\n            </div>\r\n      <ul className={'navbar-nav'}>\r\n        <li className={'nav-item'}>\r\n          <Link to={'/'} className={'nav-link'}>Home</Link>\r\n        </li>\r\n        <li className={'nav-item'}>\r\n          <Link to={'/about/'} className={'nav-link'}>About</Link>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n}","import React from 'react';\r\n\r\nexport const Repos = ({ repos }) => (\r\n  <>\r\n  { \r\n    repos.map(repo => (\r\n      <div className=\"card mb-3 card-repos\" key={repo.id}>\r\n        <div className=\"card-body\">\r\n          <h5>\r\n            <a\r\n              href={repo.html_url}\r\n              rel='noreferrer'\r\n              target={'_blank'}\r\n            >{repo.name}</a>\r\n          </h5>\r\n        </div>\r\n      </div>\r\n    ))\r\n  }\r\n  </>\r\n)","import React, { useContext, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { GitHubContext } from '../context/github/github-context';\r\nimport { Repos } from '../components/repos';\r\n\r\nexport const Profile = ({ match }) => {\r\n  const { getUser, getRepos, loading, user, repos } = useContext(GitHubContext);\r\n\r\n  const userName = match.params.name;\r\n\r\n  const { bio, avatar_url, login,\r\n    followers, following, location,\r\n    html_url, name, public_repos,\r\n    public_gists, blog, company\r\n  } = user;\r\n\r\n  useEffect(() => {\r\n    getUser(userName);\r\n    getRepos(userName);\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return <p className={'mt-4 text-center'}>Loading ...</p>\r\n  } \r\n\r\n  if (!name) {\r\n    return <p className={'text-center mt-4'}>Forbidden. Some Error!</p>\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Link to={'/'} className={'btn btn-info mt-4 mb-4'}>Back to Home page</Link>\r\n\r\n      <div className=\"card mb-4 card-profile\">\r\n        <div className=\"card-body\">\r\n          <div className=\"row\">\r\n\r\n            <div className=\"col-sm-3 text-center\">\r\n              <img src={avatar_url} alt={name} className={'user-img'}/>\r\n              <h1 className={'mt-2'}>{ name }</h1>\r\n              { location && <p>Location: {location}</p> }\r\n            </div>\r\n\r\n            <div className=\"col\">\r\n              {\r\n                bio && <>\r\n                  <h3>BIO</h3>\r\n                  <p>bio</p>\r\n                </>\r\n              }\r\n              <a\r\n                href={html_url}\r\n                target={'_blank'}\r\n                rel=\"noreferrer\"\r\n                className={'btn btn-dark mb-3'}\r\n              >Open profile</a>\r\n              <ul>\r\n                { login && <li>\r\n                  <strong>Username: </strong> {login}\r\n                  </li> }\r\n\r\n                { company && <li>\r\n                  <strong>Company: </strong> {company}\r\n                  </li> }\r\n\r\n                { blog && <li>\r\n                  <strong>Website: </strong> {blog}\r\n                  </li> }\r\n              </ul>\r\n\r\n              <div className=\"badge badge-danger\">Followers: {followers}</div>\r\n              <div className=\"badge badge-primary\">Following: {following}</div>\r\n              <div className=\"badge badge-warning\">Gists: {public_gists}</div>\r\n              <div className=\"badge badge-success\">Repos: {public_repos}</div>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <Repos repos={repos} />\r\n    </>\r\n  );\r\n}      ","import React, { useContext } from 'react';\r\nimport { AlertContext } from '../context/alert/alert-context';\r\n\r\nexport const Alert = () => {\r\n  const { hide, alert } = useContext(AlertContext);  \r\n  if (!alert) return null;\r\n\r\n  return(\r\n    <>\r\n      <div className=\"alert alert-warning alert-dismissible mt-4\" role=\"alert\">\r\n        <strong>{ alert.text }</strong>\r\n        <button type=\"button\" className=\"closer\" aria-label=\"Close\">\r\n          <span aria-hidden=\"true\" onClick={ hide } className=\"close\">&times;</span>\r\n        </button>\r\n      </div>\r\n    </>\r\n  )\r\n}","const SHOW_ALERT = 'SHOW_ALERT';\r\nconst HIDE_ALERT = 'HIDE_ALERT';\r\nconst CLEAR_USERS = 'CLEAR_USERS';\r\nconst GET_REPOS = 'GET_REPOS';\r\nconst GET_USER = 'GET_USER';\r\nconst SEARCH_USERS = 'SEARCH_USERS';\r\nconst SET_LOADING = 'SET_LOADING';\r\n\r\nexport { \r\n  SHOW_ALERT,\r\n  HIDE_ALERT,\r\n  CLEAR_USERS,\r\n  GET_REPOS,\r\n  GET_USER,\r\n  SEARCH_USERS,\r\n  SET_LOADING \r\n}","import { SHOW_ALERT, HIDE_ALERT } from '../types'\r\n\r\nconst handlers = {\r\n  [SHOW_ALERT]: (state, action) => action.payload,\r\n  [HIDE_ALERT]: () => null,\r\n  DEFAULT: state => state\r\n}\r\n\r\nexport const AlertReducer = (state, action) => {\r\n  const handler = handlers[action.type] || handlers.DEFAULT\r\n  return handler(state, action)\r\n}","import { AlertContext } from './alert-context';\r\nimport { useReducer } from 'react';\r\nimport { AlertReducer } from './alert-reducer';\r\nimport { HIDE_ALERT, SHOW_ALERT } from '../types';\r\n\r\nexport const AlertState = ({children}) => {\r\n  const [state, dispatch] = useReducer(AlertReducer, null);\r\n  const { Provider } = AlertContext;\r\n\r\n  const hide = () => dispatch({type: HIDE_ALERT});\r\n\r\n  const show = (text) => dispatch({\r\n    type: SHOW_ALERT,\r\n    payload: { text }\r\n  });\r\n  \r\n  return(\r\n    <Provider value={ {hide, show, alert: state} }>\r\n      { children }\r\n    </Provider>\r\n  )\r\n}","import {  } from '../types';\r\nimport { \r\n  GET_REPOS,\r\n  GET_USER,\r\n  SEARCH_USERS,\r\n  CLEAR_USERS,\r\n  SET_LOADING } from '../types';\r\n\r\nconst hendlers = {\r\n  [GET_REPOS]: (state, {payload}) => ({...state, repos:payload, loading: false}),\r\n  [GET_USER]: (state, {payload}) => ({...state, user: payload, loading: false}),\r\n  [SEARCH_USERS]: (state, {payload}) => ({...state, users: payload, loading: false}),\r\n  [CLEAR_USERS]: state => ({...state, users: []}),\r\n  [SET_LOADING]: state => ({...state, loading: true}),\r\n  DEFAULT: state => state\r\n}\r\n\r\nexport const GitHubReducer = (state, action) => {\r\n  const hendler = hendlers[action.type] || hendlers.DEFAULT\r\n  return hendler(state, action);\r\n}","import React, { useReducer } from 'react';\r\nimport { GitHubContext } from './github-context';\r\nimport { GitHubReducer } from './github-reducer';\r\nimport { \r\n  CLEAR_USERS, \r\n  GET_REPOS, \r\n  GET_USER, \r\n  SEARCH_USERS, \r\n  SET_LOADING } from '../types';\r\n\r\nconst CLIENT_ID = process.env.REACT_APP_CLIENT_ID\r\nconst CLIENT_SECRET = process.env.REACT_APP_CLIENT_SECRET \r\n\r\nconst withEnv = url => {\r\n  return `${url}client_id=${CLIENT_ID}&client_secret=${CLIENT_SECRET}`\r\n}\r\n\r\nexport const GitHubState = ({ children }) => {\r\n  const initialState = {\r\n    user: {},\r\n    users: [],\r\n    repos: [],\r\n    loading: false    \r\n  }\r\n\r\n  const [state, dispatch] = useReducer(GitHubReducer, initialState);\r\n  const { Provider } = GitHubContext;\r\n\r\n  const search = async(value) => {\r\n    setLoading();\r\n    \r\n    const data = await fetch(withEnv(`https://api.github.com/search/users?q=${value}&`))\r\n      .then(res => {\r\n        return res.json();\r\n      })\r\n      .then(res => {\r\n        return res.items;\r\n      })\r\n\r\n    dispatch({\r\n      type: SEARCH_USERS,\r\n      payload: data\r\n    });\r\n  }\r\n\r\n  const getUser = async(login) => {\r\n    setLoading();\r\n\r\n    const data = await fetch(withEnv(`https://api.github.com/users/${login}?`))\r\n      .then(res => {\r\n        return res.json();\r\n      })\r\n\r\n    dispatch({\r\n      type: GET_USER,\r\n      payload: data\r\n    });\r\n  }\r\n  \r\n  const getRepos = async(name) => {\r\n    setLoading();\r\n\r\n    const data = await fetch(withEnv(`https://api.github.com/users/${name}/repos?\r\n      per_page=5&`))\r\n      .then(res => {\r\n        return res.json();\r\n      })\r\n\r\n    dispatch({\r\n      type: GET_REPOS,\r\n      payload: data\r\n    });\r\n  }\r\n\r\n  const setLoading = () => dispatch({type: SET_LOADING}); \r\n\r\n  const clearUsers = () => dispatch({type: CLEAR_USERS});\r\n\r\n  const { users, user, loading, repos } = state;\r\n\r\n  return(\r\n    <Provider value={\r\n      { \r\n        search, setLoading, getRepos, getUser, clearUsers, \r\n        users, user, loading, repos \r\n      }\r\n    }>\r\n      { children }\r\n    </Provider>\r\n  )\r\n}","import React from 'react';\r\nimport './index.sass';\r\nimport { Home } from '../pages/home';\r\nimport { About } from '../pages/about';\r\nimport { Navbar } from './navbar';\r\nimport { Switch, BrowserRouter as Router, Route } from 'react-router-dom';\r\nimport { Profile } from '../pages/profile';\r\nimport { Alert } from './alert';\r\nimport { AlertState } from '../context/alert/alert-state';\r\nimport { GitHubState } from '../context/github/github-state';\r\n\r\nexport const App = () => {\r\n  return(\r\n    <GitHubState>\r\n      <AlertState>\r\n        <Router>\r\n          <Navbar />\r\n          <div className={'container'}>\r\n            <Alert />\r\n            <Switch>\r\n              <Route path={'/'} component={ Home } exact/>\r\n              <Route path={'/about'} component={ About }/>\r\n              <Route path={'/profile/:name'} component={ Profile }/>\r\n            </Switch>\r\n          </div>\r\n        </Router>\r\n      </AlertState>\r\n    </GitHubState> \r\n  );\r\n}","import ReactDom from 'react-dom';\r\nimport { App } from './components/app';\r\n\r\nconst root = document.querySelector('#root');\r\n\r\nReactDom.render(<App />, root);\r\n"],"sourceRoot":""}